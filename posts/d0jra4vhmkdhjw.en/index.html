<!doctype html><html lang=ja dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Matchlock â€“ Secures AI agent workloads with a Linux-based sandbox (English) | å¤§é˜ªã‚«ãƒ©ã‚ªã‚±æ–™é‡‘ãƒŠãƒ“</title><meta name=keywords content="AI,Tools,Python"><meta name=description content="Introduction to Matchlock â€“ Secures AI agent workloads with a Linux-based sandbox (English)"><meta name=author content="å¤§é˜ªã‚«ãƒ©ã‚ªã‚±ãƒŠãƒ“é‹å–¶"><link rel=canonical href=https://techtrend-watch.com/posts/d0jra4vhmkdhjw/><link crossorigin=anonymous href=/osaka-karaoke-bot/assets/css/stylesheet.da3211e5ef867bf2b75fd5a6515cfed7195c011e8ab735694e203810a827097b.css integrity="sha256-2jIR5e+Ge/K3X9WmUVz+1xlcAR6KtzVpTiA4EKgnCXs=" rel="preload stylesheet" as=style><link rel=icon href=https://shironaganegi.github.io/osaka-karaoke-bot/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://shironaganegi.github.io/osaka-karaoke-bot/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://shironaganegi.github.io/osaka-karaoke-bot/favicon-32x32.png><link rel=apple-touch-icon href=https://shironaganegi.github.io/osaka-karaoke-bot/apple-touch-icon.png><link rel=mask-icon href=https://shironaganegi.github.io/osaka-karaoke-bot/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=ja href=https://shironaganegi.github.io/osaka-karaoke-bot/posts/d0jra4vhmkdhjw.en/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8651981255093232" crossorigin=anonymous></script><meta property="og:url" content="https://shironaganegi.github.io/osaka-karaoke-bot/posts/d0jra4vhmkdhjw.en/"><meta property="og:site_name" content="å¤§é˜ªã‚«ãƒ©ã‚ªã‚±æ–™é‡‘ãƒŠãƒ“"><meta property="og:title" content="Matchlock â€“ Secures AI agent workloads with a Linux-based sandbox (English)"><meta property="og:description" content="Introduction to Matchlock â€“ Secures AI agent workloads with a Linux-based sandbox (English)"><meta property="og:locale" content="ja"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2026-02-09T06:49:32+00:00"><meta property="article:modified_time" content="2026-02-09T06:49:32+00:00"><meta property="article:tag" content="AI"><meta property="article:tag" content="Tools"><meta property="article:tag" content="Python"><meta name=twitter:card content="summary"><meta name=twitter:title content="Matchlock â€“ Secures AI agent workloads with a Linux-based sandbox (English)"><meta name=twitter:description content="Introduction to Matchlock â€“ Secures AI agent workloads with a Linux-based sandbox (English)"><script type=application/ld+json>"{\"@context\":\"https://schema.org\",\"@type\":\"BreadcrumbList\",\"itemListElement\":[{\"@type\":\"ListItem\",\"item\":\"https://shironaganegi.github.io/osaka-karaoke-bot/posts/\",\"name\":\"Posts\",\"position\":1},{\"@type\":\"ListItem\",\"item\":\"https://shironaganegi.github.io/osaka-karaoke-bot/posts/d0jra4vhmkdhjw.en/\",\"name\":\"Matchlock â€“ Secures AI agent workloads with a Linux-based sandbox (English)\",\"position\":2}]}"</script><script type=application/ld+json>"{\"@context\":\"https://schema.org\",\"@type\":\"BlogPosting\",\"articleBody\":\"Matchlock â€“ Secures AI agent workloads with a Linux-based sandbox *This article contains promotional content\\nPrevent AI Agent Misbehavior! An Introduction to the Secure Linux Sandbox \\u0026ldquo;Matchlock\\u0026rdquo; and Its Security Impact\\nIntroduction: Why AI Agent Sandboxing is Necessary We are now in an era where ChatGPT and other advanced AI agents execute code and call external APIs based on user instructions. While this capability is immensely powerful, it simultaneously introduces significant security risks. If an agent unintentionally or maliciously attempts to leak sensitive information (such as API keys or credentials) or transmit data externally over the network, the entire system is put at risk.\\n\\u0026ldquo;Matchlock\\u0026rdquo; is a CLI tool designed to resolve this dilemma. It runs AI agent workloads within isolated, ephemeral MicroVMs (Micro Virtual Machines). This allows the agent to utilize a full Linux environment while completely protecting the host machine and sensitive data.\\nMatchlock - GitHub Repository\\nMatchlock Key Features Matchlock offers innovative features specialized for AI agent execution, which are not found in traditional container technology or full VMs.\\n1. Transparent Injection of Secrets Matchlock\\u0026rsquo;s most critical feature is its design ensuring that secrets like API keys never enter the VM. When the agent calls an API, a transparent MITM (Man-in-the-Middle) proxy running on the host intercepts the placeholder set within the VM and replaces it with the actual secret in transit. This means that even if the sandbox is completely compromised, only a meaningless placeholder can be leaked.\\n2. Default Network Blockage and Allowlisting Security measures must be based on \\u0026ldquo;distrust\\u0026rdquo; (the assumption of malice), not \\u0026ldquo;trust\\u0026rdquo; (the assumption of good faith). Matchlock blocks all outbound network communication by default. By specifying only the specific hosts required by the agent (e.g., api.openai.com) as an allowlist, it prevents unintended data leakage and C2 communication.\\n3. Ultra-Fast and Disposable Execution Environment By leveraging Firecracker and macOS\\u0026rsquo;s Virtualization.framework, Matchlock can boot MicroVMs in under one second. This makes it possible to launch the environment only when needed and destroy the entire environment (Ephemeral) immediately upon completion. This ensures no residual data is left behind, maintaining a clean state.\\nEngineer\\u0026rsquo;s Perspective Analysis: Advantages as a Sandboxing Technology Comparison with Existing Technologies and Niche Engineers often consider Docker containers or traditional virtual machines as execution environments for AI agents. However, Matchlock overcomes the inherent challenges of these options.\\nFeature Matchlock (MicroVM) Docker Container Traditional VM Startup Speed Sub-second Several seconds Tens of seconds to minutes Kernel Isolation Full Isolation (KVM) Shared with Host Full Isolation Secret Protection Transparent injection outside VM Environment variables (enters VM) Environment variables Target Use Case Single execution of AI agent Application deployment Server environment construction Given the characteristic of AI agents running \\u0026ldquo;unknown, untrusted code,\\u0026rdquo; Matchlock\\u0026rsquo;s approachâ€”which provides complete kernel-level separation from the host and ensures secrets are not exposed internallyâ€”can be considered the ideal execution model for a zero-trust environment.\\nIntegration Potential via SDKs Matchlock is available not only as a CLI tool but also provides Go and Python SDKs. This allows organizations to directly embed sandboxing features into their own AI platforms or services. It functions highly effectively, for instance, as a backend for safely executing custom agent code uploaded by users, or for ensuring the security of AI tools developed for side projects.\\n{RECOMMENDED_PRODUCTS}\\nChallenges in Japan\\u0026rsquo;s DX Promotion and Matchlock When Japanese companies promote the adoption of AI agents as part of their DX (Digital Transformation) initiatives, the primary concern is data handling. Matchlock acts as a strict access gateway, controlling not only API keys but also proprietary corporate secrets and database access. Agent developers can execute code freely, while security policies are centrally managed on the host side, balancing development speed with security governance.\\nInstalling and Basic Usage of Matchlock Matchlock is currently available for Linux (KVM support required) and macOS (Apple Silicon).\\nInstallation brew tap jingkaihe/essentials brew install matchlock Basic Execution Here is an example checking the OS release information using an Alpine Linux image.\\n# Basic matchlock run --image alpine:latest cat /etc/os-release Example of Secret Injection and Network Control This example uses an Anthropic API key and transparently injects it only when communicating with the API host.\\n# ç§˜å¯†æƒ…å ±ã‚’ç’°å¢ƒå¤‰æ•°ã«è¨­å®š export ANTHROPIC_API_KEY=sk-xxx # Matchlockã‚’å®Ÿè¡Œã€‚api.anthropic.com ã®ã¿é€šä¿¡ã‚’è¨±å¯ã—ã€ç§˜å¯†æƒ…å ±ã‚’æ³¨å…¥ matchlock run --image python:3.12-alpine \\\\ --allow-host \\u0026#34;api.anthropic.com\\u0026#34; \\\\ --secret ANTHROPIC_API_KEY@api.anthropic.com python call_api.py # VMå†…ã‹ã‚‰ã¯ $ANTHROPIC_API_KEY ã¯ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã¨ã—ã¦ã—ã‹è¦‹ãˆã¾ã›ã‚“ã€‚ This feature allows developers to use API keys with the same feeling as using environment variables, but the actual key is always protected by the host-side proxy.\\nSummary: Pros and Cons Pros Robust Security: Design prevents secrets from leaking into the VM, coupled with a default-deny network policy. High Isolation: Kernel-level separation provided by MicroVMs. High Speed Execution: Sub-second startup suitable for AI agent tasks. Consistency: Identical CLI behavior on both Linux servers and MacBooks. Cons Requirement Limitations: Requires KVM (Linux) or Apple Silicon (macOS). Network Configuration: Requires setting an allowlist for every executing agent (a trade-off for security). Conclusion The utilization of AI agents brings immense innovation to us engineers, but managing their risks must be the top priority. Matchlock is a decisive infrastructure tool for maximizing the capabilities of AI agents without sacrificing security. Every engineer involved in AI development should seriously consider adopting this new sandboxing technology.\\nThis article is also available in Japanese.\\n\",\"author\":{\"@type\":\"Person\",\"name\":\"å¤§é˜ªã‚«ãƒ©ã‚ªã‚±ãƒŠãƒ“é‹å–¶\"},\"dateModified\":\"2026-02-09T06:49:32.49108Z\",\"datePublished\":\"2026-02-09T06:49:32.49108Z\",\"description\":\"Introduction to Matchlock â€“ Secures AI agent workloads with a Linux-based sandbox (English)\",\"headline\":\"Matchlock â€“ Secures AI agent workloads with a Linux-based sandbox (English)\",\"inLanguage\":\"ja\",\"keywords\":[\"AI\",\"Tools\",\"Python\"],\"mainEntityOfPage\":{\"@id\":\"https://shironaganegi.github.io/osaka-karaoke-bot/posts/d0jra4vhmkdhjw.en/\",\"@type\":\"WebPage\"},\"name\":\"Matchlock â€“ Secures AI agent workloads with a Linux-based sandbox (English)\",\"publisher\":{\"@type\":\"Organization\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https://shironaganegi.github.io/osaka-karaoke-bot/favicon.ico\"},\"name\":\"å¤§é˜ªã‚«ãƒ©ã‚ªã‚±æ–™é‡‘ãƒŠãƒ“\"},\"wordCount\":868}"</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://shironaganegi.github.io/osaka-karaoke-bot/ accesskey=h title="å¤§é˜ªã‚«ãƒ©ã‚ªã‚±æ–™é‡‘ãƒŠãƒ“ (Alt + H)">å¤§é˜ªã‚«ãƒ©ã‚ªã‚±æ–™é‡‘ãƒŠãƒ“</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://shironaganegi.github.io/osaka-karaoke-bot/stations/ title=é§…ä¸€è¦§><span>é§…ä¸€è¦§</span></a></li><li><a href=https://shironaganegi.github.io/osaka-karaoke-bot/search/ title="æ¤œç´¢ ğŸ” (Alt + /)" accesskey=/><span>æ¤œç´¢ ğŸ”</span></a></li><li><a href=https://shironaganegi.github.io/osaka-karaoke-bot/about/ title=ã“ã®ã‚µã‚¤ãƒˆã«ã¤ã„ã¦><span>ã“ã®ã‚µã‚¤ãƒˆã«ã¤ã„ã¦</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://shironaganegi.github.io/osaka-karaoke-bot/>ãƒ›ãƒ¼ãƒ </a>&nbsp;Â»&nbsp;<a href=https://shironaganegi.github.io/osaka-karaoke-bot/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Matchlock â€“ Secures AI agent workloads with a Linux-based sandbox (English)</h1><div class=post-description>Introduction to Matchlock â€“ Secures AI agent workloads with a Linux-based sandbox (English)</div><div class=post-meta><span title='2026-02-09 06:49:32.49108 +0000 UTC'>2026å¹´2æœˆ9æ—¥</span>&nbsp;Â·&nbsp;<span>å¤§é˜ªã‚«ãƒ©ã‚ªã‚±ãƒŠãƒ“é‹å–¶</span></div></header><div class=post-content><h1 id=matchlock--secures-ai-agent-workloads-with-a-linux-based-sandbox>Matchlock â€“ Secures AI agent workloads with a Linux-based sandbox<a hidden class=anchor aria-hidden=true href=#matchlock--secures-ai-agent-workloads-with-a-linux-based-sandbox>#</a></h1><blockquote><p>*This article contains promotional content</p></blockquote><p>Prevent AI Agent Misbehavior! An Introduction to the Secure Linux Sandbox &ldquo;Matchlock&rdquo; and Its Security Impact</p><h2 id=introduction-why-ai-agent-sandboxing-is-necessary>Introduction: Why AI Agent Sandboxing is Necessary<a hidden class=anchor aria-hidden=true href=#introduction-why-ai-agent-sandboxing-is-necessary>#</a></h2><p>We are now in an era where ChatGPT and other advanced AI agents execute code and call external APIs based on user instructions. While this capability is immensely powerful, it simultaneously introduces significant security risks. If an agent unintentionally or maliciously attempts to leak sensitive information (such as API keys or credentials) or transmit data externally over the network, the entire system is put at risk.</p><p>&ldquo;Matchlock&rdquo; is a CLI tool designed to resolve this dilemma. It runs AI agent workloads within isolated, ephemeral MicroVMs (Micro Virtual Machines). This allows the agent to utilize a full Linux environment while completely protecting the host machine and sensitive data.</p><p><a href=https://github.com/jingkaihe/matchlock>Matchlock - GitHub Repository</a></p><h2 id=matchlock-key-features>Matchlock Key Features<a hidden class=anchor aria-hidden=true href=#matchlock-key-features>#</a></h2><p>Matchlock offers innovative features specialized for AI agent execution, which are not found in traditional container technology or full VMs.</p><h3 id=1-transparent-injection-of-secrets>1. Transparent Injection of Secrets<a hidden class=anchor aria-hidden=true href=#1-transparent-injection-of-secrets>#</a></h3><p>Matchlock&rsquo;s most critical feature is its design ensuring that secrets like API keys <strong>never enter the VM</strong>. When the agent calls an API, a transparent MITM (Man-in-the-Middle) proxy running on the host intercepts the placeholder set within the VM and replaces it with the actual secret <strong>in transit</strong>. This means that even if the sandbox is completely compromised, only a meaningless placeholder can be leaked.</p><h3 id=2-default-network-blockage-and-allowlisting>2. Default Network Blockage and Allowlisting<a hidden class=anchor aria-hidden=true href=#2-default-network-blockage-and-allowlisting>#</a></h3><p>Security measures must be based on &ldquo;distrust&rdquo; (the assumption of malice), not &ldquo;trust&rdquo; (the assumption of good faith). Matchlock blocks all outbound network communication by default. By specifying only the specific hosts required by the agent (e.g., <code>api.openai.com</code>) as an allowlist, it prevents unintended data leakage and C2 communication.</p><h3 id=3-ultra-fast-and-disposable-execution-environment>3. Ultra-Fast and Disposable Execution Environment<a hidden class=anchor aria-hidden=true href=#3-ultra-fast-and-disposable-execution-environment>#</a></h3><p>By leveraging <a href=https://github.com/firecracker-microvm/firecracker>Firecracker</a> and macOS&rsquo;s Virtualization.framework, Matchlock can boot MicroVMs in under one second. This makes it possible to launch the environment only when needed and destroy the entire environment (Ephemeral) immediately upon completion. This ensures no residual data is left behind, maintaining a clean state.</p><h2 id=engineers-perspective-analysis-advantages-as-a-sandboxing-technology>Engineer&rsquo;s Perspective Analysis: Advantages as a Sandboxing Technology<a hidden class=anchor aria-hidden=true href=#engineers-perspective-analysis-advantages-as-a-sandboxing-technology>#</a></h2><h3 id=comparison-with-existing-technologies-and-niche>Comparison with Existing Technologies and Niche<a hidden class=anchor aria-hidden=true href=#comparison-with-existing-technologies-and-niche>#</a></h3><p>Engineers often consider Docker containers or traditional virtual machines as execution environments for AI agents. However, Matchlock overcomes the inherent challenges of these options.</p><table><thead><tr><th style=text-align:left>Feature</th><th style=text-align:left>Matchlock (MicroVM)</th><th style=text-align:left>Docker Container</th><th style=text-align:left>Traditional VM</th></tr></thead><tbody><tr><td style=text-align:left><strong>Startup Speed</strong></td><td style=text-align:left>Sub-second</td><td style=text-align:left>Several seconds</td><td style=text-align:left>Tens of seconds to minutes</td></tr><tr><td style=text-align:left><strong>Kernel Isolation</strong></td><td style=text-align:left>Full Isolation (KVM)</td><td style=text-align:left>Shared with Host</td><td style=text-align:left>Full Isolation</td></tr><tr><td style=text-align:left><strong>Secret Protection</strong></td><td style=text-align:left>Transparent injection outside VM</td><td style=text-align:left>Environment variables (enters VM)</td><td style=text-align:left>Environment variables</td></tr><tr><td style=text-align:left><strong>Target Use Case</strong></td><td style=text-align:left>Single execution of AI agent</td><td style=text-align:left>Application deployment</td><td style=text-align:left>Server environment construction</td></tr></tbody></table><p>Given the characteristic of AI agents running &ldquo;unknown, untrusted code,&rdquo; Matchlock&rsquo;s approachâ€”which provides complete kernel-level separation from the host and ensures secrets are not exposed internallyâ€”can be considered the ideal execution model for a zero-trust environment.</p><h3 id=integration-potential-via-sdks>Integration Potential via SDKs<a hidden class=anchor aria-hidden=true href=#integration-potential-via-sdks>#</a></h3><p>Matchlock is available not only as a CLI tool but also provides Go and Python SDKs. This allows organizations to directly embed sandboxing features into their own AI platforms or services. It functions highly effectively, for instance, as a backend for safely executing custom agent code uploaded by users, or for ensuring the security of AI tools developed for side projects.</p><p>{RECOMMENDED_PRODUCTS}</p><h3 id=challenges-in-japans-dx-promotion-and-matchlock>Challenges in Japan&rsquo;s DX Promotion and Matchlock<a hidden class=anchor aria-hidden=true href=#challenges-in-japans-dx-promotion-and-matchlock>#</a></h3><p>When Japanese companies promote the adoption of AI agents as part of their DX (Digital Transformation) initiatives, the primary concern is data handling. Matchlock acts as a strict access gateway, controlling not only API keys but also proprietary corporate secrets and database access. Agent developers can execute code freely, while security policies are centrally managed on the host side, balancing development speed with security governance.</p><h2 id=installing-and-basic-usage-of-matchlock>Installing and Basic Usage of Matchlock<a hidden class=anchor aria-hidden=true href=#installing-and-basic-usage-of-matchlock>#</a></h2><p>Matchlock is currently available for Linux (KVM support required) and macOS (Apple Silicon).</p><h3 id=installation>Installation<a hidden class=anchor aria-hidden=true href=#installation>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>brew tap jingkaihe/essentials
</span></span><span style=display:flex><span>brew install matchlock
</span></span></code></pre></div><h3 id=basic-execution>Basic Execution<a hidden class=anchor aria-hidden=true href=#basic-execution>#</a></h3><p>Here is an example checking the OS release information using an Alpine Linux image.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Basic</span>
</span></span><span style=display:flex><span>matchlock run --image alpine:latest cat /etc/os-release
</span></span></code></pre></div><h3 id=example-of-secret-injection-and-network-control>Example of Secret Injection and Network Control<a hidden class=anchor aria-hidden=true href=#example-of-secret-injection-and-network-control>#</a></h3><p>This example uses an Anthropic API key and transparently injects it only when communicating with the API host.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># ç§˜å¯†æƒ…å ±ã‚’ç’°å¢ƒå¤‰æ•°ã«è¨­å®š</span>
</span></span><span style=display:flex><span>export ANTHROPIC_API_KEY<span style=color:#f92672>=</span>sk-xxx
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Matchlockã‚’å®Ÿè¡Œã€‚api.anthropic.com ã®ã¿é€šä¿¡ã‚’è¨±å¯ã—ã€ç§˜å¯†æƒ…å ±ã‚’æ³¨å…¥</span>
</span></span><span style=display:flex><span>matchlock run --image python:3.12-alpine <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --allow-host <span style=color:#e6db74>&#34;api.anthropic.com&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>  --secret ANTHROPIC_API_KEY@api.anthropic.com python call_api.py
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># VMå†…ã‹ã‚‰ã¯ $ANTHROPIC_API_KEY ã¯ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã¨ã—ã¦ã—ã‹è¦‹ãˆã¾ã›ã‚“ã€‚</span>
</span></span></code></pre></div><p>This feature allows developers to use API keys with the same feeling as using environment variables, but the actual key is always protected by the host-side proxy.</p><h2 id=summary-pros-and-cons>Summary: Pros and Cons<a hidden class=anchor aria-hidden=true href=#summary-pros-and-cons>#</a></h2><h3 id=pros>Pros<a hidden class=anchor aria-hidden=true href=#pros>#</a></h3><ul><li><strong>Robust Security:</strong> Design prevents secrets from leaking into the VM, coupled with a default-deny network policy.</li><li><strong>High Isolation:</strong> Kernel-level separation provided by MicroVMs.</li><li><strong>High Speed Execution:</strong> Sub-second startup suitable for AI agent tasks.</li><li><strong>Consistency:</strong> Identical CLI behavior on both Linux servers and MacBooks.</li></ul><h3 id=cons>Cons<a hidden class=anchor aria-hidden=true href=#cons>#</a></h3><ul><li><strong>Requirement Limitations:</strong> Requires KVM (Linux) or Apple Silicon (macOS).</li><li><strong>Network Configuration:</strong> Requires setting an allowlist for every executing agent (a trade-off for security).</li></ul><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>The utilization of AI agents brings immense innovation to us engineers, but managing their risks must be the top priority. Matchlock is a decisive infrastructure tool for maximizing the capabilities of AI agents without sacrificing security. Every engineer involved in AI development should seriously consider adopting this new sandboxing technology.</p><hr><blockquote><p>This article is also available in <a href=https://techtrend-watch.com/posts/d0jra4vhmkdhjw/>Japanese</a>.</p></blockquote></div><footer class=post-footer><ul class=post-tags><li><a href=https://shironaganegi.github.io/osaka-karaoke-bot/tags/ai/>AI</a></li><li><a href=https://shironaganegi.github.io/osaka-karaoke-bot/tags/tools/>Tools</a></li><li><a href=https://shironaganegi.github.io/osaka-karaoke-bot/tags/python/>Python</a></li></ul><nav class=paginav><a class=prev href=https://shironaganegi.github.io/osaka-karaoke-bot/posts/d0jra4vhmkdhjw/><span class=title>Â« å‰ã¸</span><br><span>Matchlock â€“ Secures AI agent workloads with a Linux-based sandbox</span>
</a><a class=next href=https://shironaganegi.github.io/osaka-karaoke-bot/posts/wptwdapbkjxo9m/><span class=title>æ¬¡ã¸ Â»</span><br><span>New AI Tool: StayAwake.Dev</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Matchlock â€“ Secures AI agent workloads with a Linux-based sandbox (English) on x" href="https://x.com/intent/tweet/?text=Matchlock%20%e2%80%93%20Secures%20AI%20agent%20workloads%20with%20a%20Linux-based%20sandbox%20%28English%29&amp;url=https%3a%2f%2fshironaganegi.github.io%2fosaka-karaoke-bot%2fposts%2fd0jra4vhmkdhjw.en%2f&amp;hashtags=AI%2cTools%2cPython"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Matchlock â€“ Secures AI agent workloads with a Linux-based sandbox (English) on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fshironaganegi.github.io%2fosaka-karaoke-bot%2fposts%2fd0jra4vhmkdhjw.en%2f&amp;title=Matchlock%20%e2%80%93%20Secures%20AI%20agent%20workloads%20with%20a%20Linux-based%20sandbox%20%28English%29&amp;summary=Matchlock%20%e2%80%93%20Secures%20AI%20agent%20workloads%20with%20a%20Linux-based%20sandbox%20%28English%29&amp;source=https%3a%2f%2fshironaganegi.github.io%2fosaka-karaoke-bot%2fposts%2fd0jra4vhmkdhjw.en%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Matchlock â€“ Secures AI agent workloads with a Linux-based sandbox (English) on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fshironaganegi.github.io%2fosaka-karaoke-bot%2fposts%2fd0jra4vhmkdhjw.en%2f&title=Matchlock%20%e2%80%93%20Secures%20AI%20agent%20workloads%20with%20a%20Linux-based%20sandbox%20%28English%29"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Matchlock â€“ Secures AI agent workloads with a Linux-based sandbox (English) on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fshironaganegi.github.io%2fosaka-karaoke-bot%2fposts%2fd0jra4vhmkdhjw.en%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Matchlock â€“ Secures AI agent workloads with a Linux-based sandbox (English) on whatsapp" href="https://api.whatsapp.com/send?text=Matchlock%20%e2%80%93%20Secures%20AI%20agent%20workloads%20with%20a%20Linux-based%20sandbox%20%28English%29%20-%20https%3a%2f%2fshironaganegi.github.io%2fosaka-karaoke-bot%2fposts%2fd0jra4vhmkdhjw.en%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Matchlock â€“ Secures AI agent workloads with a Linux-based sandbox (English) on telegram" href="https://telegram.me/share/url?text=Matchlock%20%e2%80%93%20Secures%20AI%20agent%20workloads%20with%20a%20Linux-based%20sandbox%20%28English%29&amp;url=https%3a%2f%2fshironaganegi.github.io%2fosaka-karaoke-bot%2fposts%2fd0jra4vhmkdhjw.en%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentColor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Matchlock â€“ Secures AI agent workloads with a Linux-based sandbox (English) on ycombinator" href="https://news.ycombinator.com/submitlink?t=Matchlock%20%e2%80%93%20Secures%20AI%20agent%20workloads%20with%20a%20Linux-based%20sandbox%20%28English%29&u=https%3a%2f%2fshironaganegi.github.io%2fosaka-karaoke-bot%2fposts%2fd0jra4vhmkdhjw.en%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2026 <a href=https://shironaganegi.github.io/osaka-karaoke-bot/>å¤§é˜ªã‚«ãƒ©ã‚ªã‚±æ–™é‡‘ãƒŠãƒ“</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>